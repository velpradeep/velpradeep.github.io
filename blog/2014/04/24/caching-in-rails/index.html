
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Caching in Rails - My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="This Post I am going to explain how to achieve the caching mechanism in RailsThere are three types of caching techniquesPage CachingAction &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://velpradeep.github.io/blog/2014/04/24/caching-in-rails">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Octopress Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:velpradeep.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Caching in Rails</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-24T00:00:00+05:30" pubdate data-updated="true">Apr 24<sup>th</sup>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><div class='post'>
<script>  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','//www.google-analytics.com/analytics.js','ga');    ga('create', 'UA-51531085-1', 'velpradeep.blogspot.in');   ga('send', 'pageview');  </script><div dir="ltr" style="text-align: left;" trbidi="on"><div>This Post I am going to explain how to achieve the caching mechanism in Rails</div><div><br /></div><div>There are three types of caching techniques</div><div><ol style="text-align: left;"><li><span style="color: red;">Page Caching</span></li><li><span style="color: red;">Action Caching</span></li><li><span style="color: red;">Fragment Caching (Default in rails)</span></li></ol><div><b>Rails 4&nbsp;</b></div></div><div>&nbsp; <b>&nbsp; Static page caching and action caching is removed </b>from <b>core in &nbsp;Rails 4.0</b></div><div><br />If the user wants to enable &nbsp;<b>page and action caching</b>, you will need to add<b> actionpack-page_caching</b> and <b>actionpack-action_caching </b>to your Gemfile.(removed from core in Rails 4.0)</div><div><br /></div><div><b>Note</b><br />&nbsp;Rails caching is <b>disabled </b>by default in the <b>development </b>environment. Make sure you have below the parameter value below set to true in your Rails app config file.<br /><br />#Inside config/environments/development.rb<br /><b>config.action_controller.perform_caching = true</b><br /><b><br /></b><b>Rails caching is enabled in production mode by default.</b><br /><b><br /></b><span style="color: blue;"><b>Page Caching :</b></span><br />In Rails Page Caching, whenever a request is sent to the server, the Rails server would check for the cached page and if that exists it would be served.<br />&nbsp;If it does not exist, Rails server generates the page &amp; cache it. Hence the Rails app won’t have to generate it again during the next request.<br /><br />Page caching is an approach to caching where the entire action output of is stored as a HTML file that the web server can serve without going through Action Pack.<br />Real time Usage in applications<br /><br />Content management systems &#8211; including weblogs and wikis &#8211; have many pages that are a great fit for this approach, but account-based systems where people log in and manipulate their own data are often less likely candidates.<br /><br /><br />Example:<br /><br /><b><span style="color: #cc0000;">class HomeController &lt; ApplicationController</span></b><br /><b><span style="color: #cc0000;">&nbsp; caches_page :index</span></b><br /><span style="color: #cc0000;"><b><br /></b><b>&nbsp; def index</b></span><br /><span style="color: #cc0000;"><b><br /></b><b>&nbsp; end</b></span><br /><b><span style="color: #cc0000;">end</span></b><br /><b><br /></b>To expire the cache when an update is made, we will have to call<br /><br />an <b>expire_page </b>helper method.<br /><br /><b><span style="color: #cc0000;">def update</span></b><br /><b><span style="color: #cc0000;">&nbsp; &nbsp; &nbsp; &nbsp;expire_page :action =&gt; index</span></b><br /><b><span style="color: #cc0000;">end</span></b><br /><br />Here it is assumed that update action is being called when the page is updated. expire_page inside the action makes sure the cached page is purged &amp; new cached page is created during the next call to profile action.<br />This type of caching in Rails is lightning fast, but one main disadvantage of this is that this can’t be used for caching every page. As the requests don’t go to the Rails app, the authentication and access restrictions using before_filter won’t work if page caching is used.<br /><br />The above example is probably the wrong usage of the Rails page cache. You can see that page served by ‘profile’ action has dependency on the current_user (assume it to be logged in user).<br /><br /><br />Let’s say user_1 is the first user to view the page. The page will be generated &amp; cached with contents for user_1 . If user_2 tries to go to his profile page, he will see user_1 content on it. This is plain wrong &nbsp;.</div><div><br /></div><div><br /></div><div><br /></div></div></div>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Your Name</span></span>

      








  


<time datetime="2014-04-24T00:00:00+05:30" pubdate data-updated="true">Apr 24<sup>th</sup>, 2014</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://velpradeep.github.io/blog/2014/04/24/caching-in-rails/" data-via="" data-counturl="http://velpradeep.github.io/blog/2014/04/24/caching-in-rails/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/04/22/web-hosting-services/" title="Previous Post: Heroku Deployment with Rails">&laquo; Heroku Deployment with Rails</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/05/31/how-to-add-checkbox-in-jqgrid-filter/" title="Next Post: how to add checkbox in the jqgrid filter search tool bar?">how to add checkbox in the jqgrid filter search tool bar? &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/05/31/how-to-add-checkbox-in-jqgrid-filter/">How to Add Checkbox in the Jqgrid Filter Search Tool Bar?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/24/caching-in-rails/">Caching in Rails</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/22/web-hosting-services/">Heroku Deployment With Rails</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/03/rspec-setup-in-rails-application/">TDD (Rspec) Setup in Rails Application</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/03/basic-rspec-test-coverage/">Basic Rspec Test Coverage in Rails</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
